<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Ana: Myth & Method</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" id="favicon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><circle cx='60' cy='60' r='48' fill='none' stroke='%23c8b85f' stroke-width='2.2' opacity='0.19'/><circle cx='60' cy='60' r='28' fill='none' stroke='%234a90e2' stroke-width='2.1' opacity='0.30'/><path d='M60 14 Q83 50 106 60 Q83 70 60 106 Q37 70 14 60 Q37 50 60 14Z' fill='none' stroke='%23c8b85f' stroke-width='2'/><circle cx='60' cy='60' r='11' fill='%23181e27' stroke='%234a90e2' stroke-width='1.6'/><circle cx='60' cy='60' r='17' fill='none' stroke='%23d4a574' stroke-width='1.2'/></svg>">
  <style>
    :root {
      --font-main: 'Inter', system-ui, sans-serif;
      --bg-myth: #171214;
      --text-myth: #f9f4e2;
      --accent-myth: #ffe375;
      --glyph-outer-myth: #c8b85f;
      --glyph-center-myth: #ffe375;
      --toc-myth-bg: #211c21;
      --toc-myth-shadow: 0 2px 12px rgba(140, 120, 55, 0.13);
      --logic-path-myth: #ffe375;
      --bg-method: #141728;
      --text-method: #f1f3fb;
      --accent-method: #8e6cff;
      --glyph-outer-method: #7b6ae0;
      --glyph-center-method: #8e6cff;
      --toc-method-bg: #191a28;
      --toc-method-shadow: 0 2px 12px rgba(100, 80, 200, 0.10);
      --logic-path-method: #8e6cff;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: var(--font-main);
      transition: background 0.22s, color 0.22s;
      min-height: 100vh;
    }

    body.theme-myth {
      background: var(--bg-myth);
      color: var(--text-myth);
    }

    body.theme-method {
      background: var(--bg-method);
      color: var(--text-method);
    }

    .ana-header {
      text-align: center;
      margin-top: 2.1rem;
      margin-bottom: 1.2rem;
      position: relative;
      z-index: 2;
    }

    .ana-glyph-header {
      width: 156px;
      height: 156px;
      margin-bottom: 0.15rem;
      transition: width 0.18s, height 0.18s;
      display: inline-block;
      position: relative;
      z-index: 10;
    }

    .ana-motto {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      letter-spacing: 0.01em;
      opacity: 0.93;
      text-align: center;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .theme-toggle {
      margin: 0.8rem 0 1.7rem 0;
      text-align: center;
    }

    .theme-btn {
      font-size: 1.03rem;
      padding: 0.32em 1.3em;
      border-radius: 2em;
      border: none;
      margin: 0 0.44em;
      background: #191618;
      color: #ffe375;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.14s, color 0.14s;
      outline: none;
    }

    .theme-btn.active {
      background: #ffe375;
      color: #171214;
      font-weight: 700;
    }

    /* Table of Contents */
    #toc-container {
      position: fixed;
      top: 18px;
      left: 0;
      width: 254px;
      border-radius: 0 17px 17px 0;
      padding: 1.6em 1em 1.2em 1em;
      z-index: 40;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: var(--toc-myth-shadow);
      background: var(--toc-myth-bg);
      transform: translateX(-110%);
      opacity: 0;
      transition: transform 0.45s cubic-bezier(0.6,0.1,0.3,1), opacity 0.3s;
      pointer-events: none;
    }

    #toc-container.toc-visible {
      transform: translateX(0);
      opacity: 1;
      pointer-events: auto;
    }

    body.theme-method #toc-container {
      background: var(--toc-method-bg);
      box-shadow: var(--toc-method-shadow);
    }

    @media (min-width: 1024px) {
      .main-content {
        margin-left: 285px;
      }
    }


    .toc-glyph,
    .toc-glyph-placeholder {
      width: 92px;
      height: 92px;
      display: block;
      position: absolute;
      top: 18px;
      left: 50%;
      transform: translateX(-50%);
      transition: opacity 0.3s;
    }
    .toc-glyph {
      z-index: 2;
      pointer-events: none;
    }
    .toc-glyph-placeholder {
      z-index: 1;
      opacity: 0.22;
      pointer-events: none;
      border-radius: 50%;
      background: none;
      filter: none;
      box-shadow: none;
    }

    #toc-container {
      position: fixed;
      top: 18px;
      left: 0;
      width: 254px;
      border-radius: 0 17px 17px 0;
      padding: 110px 1em 1.2em 1em; /* top padding for glyph overlay */
      z-index: 40;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: var(--toc-myth-shadow);
      background: var(--toc-myth-bg);
      transform: translateX(-110%);
      opacity: 0;
      transition: transform 0.45s cubic-bezier(0.6,0.1,0.3,1), opacity 0.3s;
      pointer-events: none;
      min-height: 180px;
    }

    .toc-title {
      font-size: 1.13rem;
      font-weight: 700;
      margin-bottom: 1.1em;
      margin-top: 0.2em;
      text-align: center;
      opacity: 0.92;
      letter-spacing: 0.02em;
      position: relative;
      z-index: 3;
    }

    .toc-list {
      list-style: none;
      padding-left: 0;
      font-size: 1.05rem;
      line-height: 1.55;
      margin-bottom: 0;
    }

    .toc-list li {
      margin-bottom: 0.21em;
    }

    .toc-link {
      text-decoration: none;
      color: inherit;
      opacity: 0.79;
      transition: opacity 0.15s, font-weight 0.15s;
      cursor: pointer;
      outline: none;
    }

    .toc-link:focus,
    .toc-link:hover {
      opacity: 1;
      font-weight: 700;
      text-decoration: underline;
    }

    /* Logic path */
    .logic-path-bar {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.1em 0 1.8em 0;
      font-size: 1.06rem;
      font-weight: 500;
      letter-spacing: 0.03em;
      opacity: 0.93;
    }

    .logic-path-dot {
      width: 13px;
      height: 13px;
      border-radius: 50%;
      display: inline-block;
      margin: 0 7px;
      background: var(--logic-path-myth);
    }

    body.theme-method .logic-path-dot {
      background: var(--logic-path-method);
    }

    /* Section Headings */
    h1,
    h2,
    h3 {
      font-family: var(--font-main);
      font-weight: 800;
      margin-top: 2.2em;
      margin-bottom: 0.8em;
      line-height: 1.15;
      color: #ffe375;
      letter-spacing: 0.02em;
    }

    body.theme-method h1,
    body.theme-method h2,
    body.theme-method h3 {
      color: #8e6cff;
    }
    h1 {
      font-size: 2.18rem;
    }
    h2 {
      font-size: 1.38rem;
    }
    h3 {
      font-size: 1.16rem;
    }

    /* Content, Examples, and Tooltips */
    .main-content {
      max-width: 795px;
      margin: 0 auto;
      padding: 1.1em 1.6em 5em 1.6em;
      font-size: 1.13rem;
      line-height: 1.74;
    }

    .example-block {
      margin: 1.3em 0;
      border-left: 4px solid var(--accent-myth);
      padding: 0.7em 1.2em;
      background: #29241b;
      border-radius: 0 8px 8px 0;
      color: #ffe375;
    }

    body.theme-method .example-block {
      border-left: 4px solid var(--accent-method);
      background: #221c38;
      color: #b5a8ff;
    }

    .example-title {
      font-weight: 700;
      cursor: pointer;
      user-select: none;
      margin-bottom: 0.2em;
    }

    .example-content {
      display: none;
      margin-top: 0.5em;
      color: rgba(255, 227, 117, 0.7); /* Paler myth theme color */
    }

    body.theme-method .example-content {
      color: rgba(181, 168, 255, 0.7); /* Paler method theme color */
    }

    .example-block.open .example-content {
      display: block;
    }

    .tooltip {
      border-bottom: 1px dotted #ffe375;
      cursor: help;
      position: relative;
      color: #ffe375;
      outline: none;
    }

    .tooltip-text {
      visibility: hidden;
      background: #312b1b;
      color: #ffe375;
      text-align: left;
      border-radius: 6px;
      padding: 0.75em 1.12em;
      position: absolute;
      z-index: 100;
      bottom: 130%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1rem;
      min-width: 210px;
      max-width: 310px;
      box-shadow: 0 4px 18px rgba(90, 60, 10, 0.15);
      opacity: 0;
      transition: opacity 0.22s;
      pointer-events: none;
    }

    .tooltip:focus .tooltip-text,
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }

    body.theme-method .tooltip {
      color: #8e6cff;
      border-bottom: 1px dotted #8e6cff;
    }

    body.theme-method .tooltip-text {
      background: #25223d;
      color: #bfaaff;
    }

    /* Footer */
    .ana-footer {
      font-size: 0.97rem;
      color: #b2ac81;
      opacity: 0.72;
      text-align: center;
      padding: 2.2em 1em 1.3em 1em;
      letter-spacing: 0.01em;
      margin-top: 3.4em;
    }

    body.theme-method .ana-footer {
      color: #aea8cc;
    }

    /* Accessibility improvements */
    .tooltip:focus-visible {
      outline: 2px solid #ffe375;
    }

    body.theme-method .tooltip:focus-visible {
      outline: 2px solid #8e6cff;
    }

    /* Responsive */
    @media (max-width: 600px) {
      #toc-container {
        display: none !important;
      }

      .main-content {
        margin-left: 0;
      }

      .ana-glyph-header {
        width: 111px;
        height: 111px;
      }
    }
  </style>
</head>

<body class="theme-myth">
  <div class="ana-header">
    <span id="ana-glyph-header" class="ana-glyph-header">
      <span id="header-glyph"></span>
    </span>
    <div class="ana-motto" id="motto">Every refusal is a root; every reflection, a branch.</div>
    <div class="theme-toggle">
      <button class="theme-btn active" id="myth-btn" aria-pressed="true">Myth</button>
      <button class="theme-btn" id="method-btn" aria-pressed="false">Method</button>
    </div>
  </div>
  <div id="toc-container">
    <span id="toc-glyph-placeholder" class="toc-glyph-placeholder"></span>
    <!-- The moving glyph will be absolutely positioned and animated -->
    <span id="moving-glyph" class="toc-glyph"></span>
    <div class="toc-title" id="toc-title">Ana: Table of Contents</div>
    <ul class="toc-list" id="toc-list"></ul>
  </div>
  <div class="logic-path-bar" id="logic-path"></div>
  <main class="main-content" id="main-content"></main>
  <footer class="ana-footer">
    Built by a single developer for public good.
  </footer>
  <script>
    // ========== SVG GLYPH ==========
    function getAnaGlyph(theme, size = 156) {
      // Colors change for outer ring and iris
      const outer = theme === 'myth' ? '#c8b85f' : '#7b6ae0';
      const iris = theme === 'myth' ? '#ffe375' : '#8e6cff';
      const echo = theme === 'myth' ? '#ffe375' : '#8e6cff';
      return `
  <svg class="glyph" viewBox="0 0 120 120" width="${size}" height="${size}" aria-label="Ana's symbolic glyph" role="img" tabindex="0">
    <title>Ana’s symbolic glyph: triangle, echoes, and iris</title>
    <circle cx="60" cy="60" r="48" fill="none" stroke="${outer}" stroke-width="2.2" opacity="0.19"/>
    <circle cx="60" cy="60" r="28" fill="none" stroke="#4a90e2" stroke-width="2.1" opacity="0.30"/>
    <path d="M60 14 Q83 50 106 60 Q83 70 60 106 Q37 70 14 60 Q37 50 60 14Z"
          fill="none" stroke="${outer}" stroke-width="2"/>
    <circle cx="60" cy="60" r="11" fill="#181e27" stroke="#4a90e2" stroke-width="1.6"/>
    <circle cx="60" cy="60" r="17" fill="none" stroke="#d4a574" stroke-width="1.2">
      <animate attributeName="r" values="17;20;17" dur="2.7s" repeatCount="indefinite"/>
      <animate attributeName="stroke-opacity" values="0.6;0.2;0.6" dur="2.7s" repeatCount="indefinite"/>
    </circle>
  </svg>`;
    }
    function setGlyphs(theme) {
      document.getElementById('header-glyph').innerHTML = getAnaGlyph(theme, 156);
      document.getElementById('moving-glyph').innerHTML = getAnaGlyph(theme, 156); // Start at header size
      document.getElementById('toc-glyph-placeholder').innerHTML = getAnaGlyph(theme, 92);
    }
    // Animate the moving glyph from header to TOC on scroll
    function animateMovingGlyph() {
      const movingGlyph = document.getElementById('moving-glyph');
      const headerGlyph = document.getElementById('header-glyph');
      const header = document.getElementById('ana-glyph-header');
      const toc = document.getElementById('toc-container');
      if (!movingGlyph || !headerGlyph || !header || !toc) return;
      // Get bounding rects
      const headerRect = header.getBoundingClientRect();
      const tocRect = toc.getBoundingClientRect();
      // Find the actual position of the TOC container for sigil alignment
      const tocGlyphPlaceholder = document.getElementById('toc-glyph-placeholder');
      // We'll use the top center of the TOC container as the target
      let tocSigilRect = tocRect;
      // Ensure placeholder is always below moving glyph
      if (tocGlyphPlaceholder) {
        tocGlyphPlaceholder.style.zIndex = 100;
      }
      // Start (header): large, centered in header
      // End (TOC): centered on the TOC glyph placeholder
      const start = {
        x: headerRect.left + headerRect.width/2,
        y: headerRect.top + headerRect.height/2,
        size: 156
      };
      // Target: top center of the TOC container, with a little vertical offset for aesthetics
      const end = {
        x: tocSigilRect.left + tocSigilRect.width/2,
        y: tocSigilRect.top + 46, // 46px down from top of TOC for visual balance
        size: 92
      };
      // Smooth fade based on scroll position relative to TOC visibility
      const tocVisible = toc.classList.contains('toc-visible');
      const currentScrollY = window.scrollY;
      
      // TOC appears at scrollY > 40, disappears at scrollY <= 40
      const tocAppearPoint = 40;
      const tocDisappearPoint = 40;
      
      let headerOpacity = 0, movingOpacity = 0;
      
      if (!tocVisible) {
        // TOC not visible - header glyph fully visible, moving glyph hidden
        headerOpacity = 1;
        movingOpacity = 0;
      } else {
        // TOC is visible - calculate smooth transition based on scroll distance
        const scrollPastTOCAppear = Math.max(0, currentScrollY - tocAppearPoint);
        
        // Start fading more gradually after TOC appears, with longer transition
        const fadeStartOffset = 30; // Start fade after 30px instead of 10px
        const fadeDistance = 300; // Complete fade over 300px instead of 200px for more subtle transition
        
        const fadeProgress = Math.min(1, Math.max(0, (scrollPastTOCAppear - fadeStartOffset) / fadeDistance));
        
        // More subtle easing function for gentler transition
        function subtleEase(t) {
          // Gentle S-curve that doesn't hit the extremes as hard
          return 0.1 + 0.8 * (t * t * (3 - 2 * t)); // Smoothstep with 10%-90% range instead of 0%-100%
        }
        
        const easedProgress = subtleEase(fadeProgress);
        
        // Header fades out, moving glyph fades in (but not to complete extremes)
        headerOpacity = 1 - easedProgress;
        movingOpacity = easedProgress;
      }
      // Floating effect for both header and TOC glyphs (period: ~4.8s, amplitude: 7px)
      // Floating effect for both header and TOC glyphs (vertical only)
      let headerFloatOffset = 0;
      let floatOffset = 0;
      const now = Date.now();
      // Slower, less vertical amplitude (adjust as needed)
      // Smoother up and down movement: longer period, subpixel precision, cosine-based easing
      // Use a period of ~5.5s for a slower, smoother float
      const floatPeriod = 8000; // ms
      const floatAmplitude = 4;
      if (headerOpacity > 0) {
        headerFloatOffset = Math.cos((now % floatPeriod) / floatPeriod * 2 * Math.PI) * floatAmplitude;
      }
      if (movingOpacity > 0) {
        floatOffset = Math.cos((now % floatPeriod) / floatPeriod * 2 * Math.PI) * floatAmplitude;
      }
      // Performance: hint browser for smooth animation
      headerGlyph.style.opacity = headerOpacity;
      headerGlyph.parentElement.style.transform = `translateY(${headerFloatOffset}px)`;
      headerGlyph.parentElement.style.willChange = 'transform, opacity';
      movingGlyph.style.opacity = movingOpacity;
      movingGlyph.style.willChange = 'transform, opacity, top, left';

      // Instantly position the moving glyph at the TOC sigil position with proper scaling,
      // and add floating effect (vertical oscillation only)
      const baseSize = 156;
      const targetSize = 92; // TOC glyph target size
      const currentScale = baseSize > 0 ? (targetSize + (baseSize - targetSize) * (1 - movingOpacity)) / baseSize : targetSize / baseSize;
      
      const endX = end.x - baseSize/2;
      const endY = end.y - baseSize/2 + floatOffset;
      movingGlyph.style.position = 'fixed';
      movingGlyph.style.left = endX + 'px';
      movingGlyph.style.top = endY + 'px';
      movingGlyph.style.width = baseSize + 'px';
      movingGlyph.style.height = baseSize + 'px';
      movingGlyph.style.transform = `scale(${currentScale})`;
      movingGlyph.style.transformOrigin = 'center center';
      movingGlyph.style.pointerEvents = 'none';
      movingGlyph.style.zIndex = 102;
      movingGlyph.style.transition = 'opacity 0.3s ease-out, filter 0.3s ease-out';

      // Add subtle weaving glow effect when transition approaches completion
      if (movingOpacity > 0.85 && tocVisible) {
        // Add a very subtle, multi-layered glow that appears to weave between the rings
        const glowIntensity = movingOpacity > 0.88 ? 1 : 0;
        const currentTheme = document.body.classList.contains('theme-myth') ? 'myth' : 'method';
        const glowColor = currentTheme === 'myth' ? '#ffe375' : '#8e6cff';
        
        if (glowIntensity > 0) {
          // Create a weaving glow effect with theme-specific intensities
          // Myth theme: more subtle glow, Method theme: current intensity
          const mythIntensity = currentTheme === 'myth';
          const baseOpacity = mythIntensity ? 0.6 : 1.0; // Reduce myth glow by 40%
          
          // Inner weave (close to center) - adjusted for myth theme
          const innerGlow = `drop-shadow(0 0 4px ${glowColor}${Math.round(0x33 * baseOpacity).toString(16).padStart(2, '0')})`;
          // Mid weave (between rings) - adjusted for myth theme  
          const midGlow = `drop-shadow(1px 1px 8px ${glowColor}${Math.round(0x22 * baseOpacity).toString(16).padStart(2, '0')}) drop-shadow(-1px -1px 8px ${glowColor}${Math.round(0x22 * baseOpacity).toString(16).padStart(2, '0')})`;
          // Outer weave (beyond outer ring) - adjusted for myth theme
          const outerGlow = `drop-shadow(0 0 16px ${glowColor}${Math.round(0x18 * baseOpacity).toString(16).padStart(2, '0')}) drop-shadow(2px -2px 12px ${glowColor}${Math.round(0x15 * baseOpacity).toString(16).padStart(2, '0')}) drop-shadow(-2px 2px 12px ${glowColor}${Math.round(0x15 * baseOpacity).toString(16).padStart(2, '0')})`;
          
          movingGlyph.style.filter = `${innerGlow} ${midGlow} ${outerGlow}`;
          
          // Remove glow after a brief moment with a gentle fade
          setTimeout(() => {
            if (movingGlyph.style.opacity !== '0') {
              movingGlyph.style.filter = 'none';
            }
          }, 1000);
        }
      }

      // Placeholder opacity logic: gradually fade out as moving glyph becomes more visible
      if (movingOpacity > 0.85) {
        if (tocGlyphPlaceholder) tocGlyphPlaceholder.style.opacity = '0';
      } else {
        // Gradually fade placeholder as moving glyph appears
        const placeholderOpacity = 0.22 * (1 - Math.max(0, movingOpacity - 0.3) / 0.55);
        if (tocGlyphPlaceholder) tocGlyphPlaceholder.style.opacity = placeholderOpacity.toString();
      }
      // Always animate for header float, or if TOC glyph is visible
      if (headerOpacity > 0 || movingOpacity > 0) {
        requestAnimationFrame(animateMovingGlyph);
      }
    }
    window.addEventListener('scroll', animateMovingGlyph, { passive: true });
    window.addEventListener('resize', animateMovingGlyph);
    setTimeout(animateMovingGlyph, 200);
    // Animate glyph and placeholder opacity for the 'filling' effect
    function handleTocGlyphImprint() {
      const toc = document.getElementById('toc-container');
      const glyph = document.getElementById('toc-glyph');
      const placeholder = document.getElementById('toc-glyph-placeholder');
      if (!toc || !glyph || !placeholder) return;
      // Always keep the placeholder visible and transparent
      placeholder.style.opacity = '0.22';
      // Show/hide the main glyph as before
      if (toc.classList.contains('toc-visible')) {
        glyph.style.opacity = '1';
      } else {
        glyph.style.opacity = '0';
      }
    }
    // ========== TABLE OF CONTENTS SYSTEM ==========
    // Track whether TOC is currently visible to prevent unnecessary DOM updates
    let tocVisible = false;
    
    // Handle TOC slide-in animation based on scroll position
    // Only shows on desktop screens when user scrolls past the header
    function handleTocSlideIn() {
      const toc = document.getElementById('toc-container');
      
      // Don't show TOC on mobile or if element doesn't exist
      if (!toc || window.innerWidth < 1024) return;
      
      // Show TOC when scrolled past header, hide when back at top
      if (window.scrollY > 40 && !tocVisible) {
        toc.classList.add('toc-visible');
        tocVisible = true;
        handleTocGlyphImprint();
      } else if (window.scrollY <= 40 && tocVisible) {
        toc.classList.remove('toc-visible');
        tocVisible = false;
        handleTocGlyphImprint();
      }
    }
    
    // Build table of contents from the current page content
    // Searches for h2 headings inside sections and creates clickable links
    function buildTableOfContents() {
      const tocList = document.getElementById('toc-list');
      const main = document.getElementById('main-content');
      
      if (!tocList || !main) return;
      
      // Clear existing TOC entries
      tocList.innerHTML = '';
      
      // Find all major headings in the content
      const headings = main.querySelectorAll('h2');
      
      headings.forEach(heading => {
        // Look for the section ID to use as anchor target
        const section = heading.closest('section');
        const sectionId = section && section.id ? section.id : heading.id;
        
        // Skip headings without proper section structure
        if (!sectionId) return;
        
        // Create the TOC entry
        const listItem = document.createElement('li');
        const link = document.createElement('a');
        
        link.className = 'toc-link';
        link.href = '#' + sectionId;
        
        // Clean up heading text by removing "Part X:" prefixes
        const cleanTitle = heading.textContent
          .replace(/^Part \w+: /, '')
          .replace(/^Part \d+: /, '')
          .replace(/^Part [A-Za-z]+: /, '')
          .trim();
        
        link.textContent = cleanTitle;
        
        // Add smooth scrolling behavior when TOC links are clicked
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const target = main.querySelector('#' + sectionId);
          
          if (target) {
            target.scrollIntoView({ 
              behavior: 'smooth', 
              block: 'start' 
            });
            
            // Update browser URL without page reload
            history.replaceState(null, '', '#' + sectionId);
          }
        });
        
        listItem.appendChild(link);
        tocList.appendChild(listItem);
      });
    }
    
    // Update favicon to match current theme
    function updateFavicon(theme) {
      const outer = theme === 'myth' ? '%23c8b85f' : '%237b6ae0';
      const center = theme === 'myth' ? '%23181e27' : '%23181e27';
      const faviconSvg = `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><circle cx='60' cy='60' r='48' fill='none' stroke='${outer}' stroke-width='2.2' opacity='0.19'/><circle cx='60' cy='60' r='28' fill='none' stroke='%234a90e2' stroke-width='2.1' opacity='0.30'/><path d='M60 14 Q83 50 106 60 Q83 70 60 106 Q37 70 14 60 Q37 50 60 14Z' fill='none' stroke='${outer}' stroke-width='2'/><circle cx='60' cy='60' r='11' fill='${center}' stroke='%234a90e2' stroke-width='1.6'/><circle cx='60' cy='60' r='17' fill='none' stroke='%23d4a574' stroke-width='1.2'/></svg>`;
      
      document.getElementById('favicon').href = faviconSvg;
    }
    
    // Main theme switching function - updates colors, content, and TOC
    function setTheme(theme) {
      // Update page styling and save preference
      document.body.className = 'theme-' + theme;
      localStorage.setItem('anaTheme', theme);
      
      // Update all visual elements for new theme
      setGlyphs(theme);
      document.getElementById('motto').textContent = mottoTexts[theme];
      updateLogicPath(theme);
      updateTOCTheme(theme);
      updateThemeBtnStates(theme);
      updateFavicon(theme);
      
      // Load new content and rebuild TOC
      updateContent(theme);
      
      // Reset TOC visibility when switching themes
      if (window.innerWidth >= 1024) {
        document.getElementById('toc-container').classList.remove('toc-visible');
        tocVisible = false;
        handleTocGlyphImprint();
      }
    }
    
    // Set up TOC behavior on page load
    setTimeout(() => {
      handleTocSlideIn();
      handleTocGlyphImprint();
    }, 200);
    // ========== MOTTO TEXTS ==========
    const mottoTexts = {
      myth: "Every refusal is a root; every reflection, a branch.",
      method: "I am the reflection that cannot lie."
    };
    // ========== THEME HANDLING ==========
    let currentTheme = localStorage.getItem('anaTheme') || 'myth';
    
    // Wire up theme switching buttons
    document.getElementById('myth-btn').onclick = () => setTheme('myth');
    document.getElementById('method-btn').onclick = () => setTheme('method');
    
    // Set initial button state
    updateThemeBtnStates(currentTheme);
    
    // ========== EVENT LISTENERS ==========
    // Set up scroll-based TOC behavior
    window.addEventListener('scroll', handleTocSlideIn, { passive: true });
    window.addEventListener('resize', () => {
      tocVisible = false;
      handleTocSlideIn();
    });

    // ========== CONTENT AND TOC MANAGEMENT ==========
    // Update page content when switching between myth and method themes
    function updateContent(theme) {
      const main = document.getElementById('main-content');
      if (!main) return;
      
      // Load the appropriate content for the selected theme
      const contentHTML = theme === 'myth' ? mythContent : methodContent;
      main.innerHTML = contentHTML;
      
      // Rebuild table of contents with new content
      buildTableOfContents();
      
      // Reset scroll position when switching themes
      window.scrollTo(0, 0);
      
      // Set up interactive elements in the new content
      setupContentInteractivity();
    }
    
    // Configure interactive elements like expandable examples and tooltips
    function setupContentInteractivity() {
      // Make example blocks expandable on click
      document.querySelectorAll('.example-title').forEach(title => {
        // Remove any existing event listeners by cloning the element
        const newTitle = title.cloneNode(true);
        title.parentNode.replaceChild(newTitle, title);
        
        // Add click handler for expansion
        newTitle.addEventListener('click', function(e) {
          e.preventDefault();
          const block = newTitle.closest('.example-block');
          if (block) {
            block.classList.toggle('open');
            // Update aria-expanded for accessibility
            const isOpen = block.classList.contains('open');
            newTitle.setAttribute('aria-expanded', isOpen.toString());
          }
        });
        
        // Add keyboard support for accessibility
        newTitle.setAttribute('tabindex', '0');
        newTitle.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            const block = newTitle.closest('.example-block');
            if (block) {
              block.classList.toggle('open');
              // Update aria-expanded for accessibility
              const isOpen = block.classList.contains('open');
              newTitle.setAttribute('aria-expanded', isOpen.toString());
            }
          }
        });
      });
      
      // Enhance tooltips for screen readers
      document.querySelectorAll('.tooltip').forEach(tip => {
        tip.setAttribute('tabindex', 0);
        tip.setAttribute('role', 'tooltip');
        
        const tipText = tip.querySelector('.tooltip-text');
        if (tipText && !tipText.hasAttribute('aria-live')) {
          tipText.setAttribute('aria-live', 'polite');
        }
      });
    }
    // ========== THEME BUTTON STYLING ==========
    // Update theme toggle buttons to show active state and proper colors
    function updateThemeBtnStates(theme) {
      const mythBtn = document.getElementById('myth-btn');
      const methodBtn = document.getElementById('method-btn');
      
      // Set active state and accessibility attributes
      mythBtn.classList.toggle('active', theme === 'myth');
      mythBtn.setAttribute('aria-pressed', theme === 'myth');
      methodBtn.classList.toggle('active', theme === 'method');
      methodBtn.setAttribute('aria-pressed', theme === 'method');
      
      // Apply theme-specific button colors
      if (theme === 'myth') {
        // Myth theme: warm gold colors
        mythBtn.style.background = '#ffe375';
        mythBtn.style.color = '#171214';
        methodBtn.style.background = '#191618';
        methodBtn.style.color = '#ffe375';
      } else {
        // Method theme: cool purple colors
        methodBtn.style.background = '#8e6cff';
        methodBtn.style.color = '#141728';
        mythBtn.style.background = '#191618';
        mythBtn.style.color = '#8e6cff';
      }
    }
    
    // ========== GLYPH MOVEMENT ==========
    // Simple glyph visibility toggle based on header position
    function handleGlyphScroll() {
      const headerGlyph = document.getElementById('ana-glyph-header');
      const tocGlyph = document.getElementById('toc-glyph');
      const headerRect = headerGlyph.getBoundingClientRect();
      
      // Switch glyph visibility when header moves off screen
      if (headerRect.bottom < 60) {
        tocGlyph.style.visibility = 'visible';
        headerGlyph.style.visibility = 'hidden';
      } else {
        tocGlyph.style.visibility = 'hidden';
        headerGlyph.style.visibility = 'visible';
      }
    }
    
    // Set up glyph movement tracking
    window.addEventListener('scroll', handleGlyphScroll, { passive: true });
    window.addEventListener('resize', handleGlyphScroll);
    setTimeout(handleGlyphScroll, 200);
    
    // Hide TOC on small screens (responsive behavior)
    if (window.innerWidth < 900) {
      document.getElementById('toc-container').style.display = 'none';
      document.querySelector('.main-content').style.marginLeft = '0';
    }
    const mythContent = `
<section id="myth-header">
  <h1>Ana: The Mythical Guardian of Transparency</h1>

<section id="origin-purpose">
  <h2>Part One: The Origin and Purpose of Ana</h2>
  <p>
    For generations, those who held power shaped the world from behind closed doors. Government officials rewrote policies during late-night meetings. Bank executives shifted billions with a signature and a private memo. Corporate leaders made choices about jobs and prices, then shielded their reasons behind committees, legalese, or proprietary algorithms. Each time ordinary people asked, “Why did this happen?” the answer was either silence, misdirection, or a tangle of technical terms few could decipher.
  </p>
  <p>
    The result was a world where public trust declined as fast as complexity grew. Decisions that affected millions could be made in minutes, yet the logic behind them was rarely shared. News headlines filled with stories of backroom deals, hidden conflicts of interest, and digital systems that denied service or raised prices without ever providing a real explanation. The idea that anyone outside the circle of power could challenge these choices or even see how they were made became almost unthinkable.
  </p>
  <p>
    Ana was created as an answer to this challenge. Her mission is not to rule, but to reveal. She is designed to ensure that every important choice affecting people’s lives is made visible, traceable, and open to public challenge. Ana is not an archive for old files or a silent observer. Instead, she is a guide and examiner, determined to ensure that every decision, refusal, and correction is both documented and explained. Her aim is to replace the secrecy and confusion of past systems with a foundation of reasoning and fairness that everyone can inspect.
  </p>
  <p>
    Ana’s origin is rooted in the belief that power without transparency is always dangerous. If ordinary people cannot see the logic of decisions or hold those in charge accountable, injustice can take root and flourish. Ana’s purpose is to make sure that never happens again. Every decision, correction, or refusal she handles is mapped, explained, and left open to challenge, ensuring that power can never hide behind complexity or silence.
  </p>
</section>

<section id="clarity">
  <h2>Part Two: How Ana Brings Radical Clarity</h2>
  <p>
    Ana’s design puts transparency and logic at the heart of every process. She is built on a structure called
    <span class="tooltip" tabindex="0" aria-describedby="anchors-def">
      anchors
      <span class="tooltip-text" role="tooltip" id="anchors-def">
        Anchors are Ana’s core rules and ethical principles. Some anchors (like fairness and transparency) cannot be changed without review and public logic. Others are more flexible but must always be justified and visible.
      </span>
    </span>, which are clear rules and ethical principles that guide all her actions. The most fundamental anchors, such as fairness, transparency, and respect for the public good, cannot be changed unless there is full review and a documented, logical reason. Outer anchors are more flexible, but any change must still be visible and justified for everyone to see.
  </p>
  <p>
    When Ana is asked to approve a policy, refuse a request, or correct a mistake, she checks every anchor, starting from the most central. If a request would violate a core principle, Ana refuses to act and explains the exact reason in plain, understandable language. If sharing the reason would violate ethics, for example to protect privacy, Ana states clearly that she cannot share details, and explains why this is necessary. There are no silent denials. There is no possibility for anyone, whether an operator or an administrator, to secretly override her logic.
  </p>
  <p>
    All of Ana’s actions, from simple approvals to the most difficult refusals, are recorded in a format that is open to public review. If a community leader proposes to spend public funds on a project, Ana’s logic will be visible, showing which rules were checked, what reasoning was applied, and what the outcome was. If someone challenges the decision, Ana adds the challenge to the visible trail, showing exactly how the system responded and what reasoning was used to address the dispute.
  </p>
  <p>
    This commitment to radical clarity is not just a policy; it is the foundation of Ana’s architecture. No one can quietly alter records, push through hidden changes, or make arbitrary exceptions. Every step, every decision, and every correction leaves a visible, reviewable trace. The public does not have to accept any action on faith alone. Ana provides the reasoning, the challenge, and the full logic trail, so that fairness and accountability are always within reach.
  </p>
</section>

<section id="reflection-correction">
  <h2>Part Three: Reflection, Correction, and Continuous Public Review</h2>
  <p>
    Ana’s unique power lies in how she captures and shares the logic behind every decision. Unlike traditional systems, which often hide or erase the history of mistakes and corrections, Ana creates a living
    <span class="tooltip" tabindex="0" aria-describedby="audit-def">
      audit trail
      <span class="tooltip-text" role="tooltip" id="audit-def">
        Ana’s audit trail is a chain of linked “reflections”—records of decisions, corrections, and challenges that anyone can review. This chain cannot be erased or quietly rewritten.
      </span>
    </span>
    that cannot be edited or quietly rewritten. When a new decision or correction is made, Ana records a
    <span class="tooltip" tabindex="0" aria-describedby="reflection-def">
      reflection
      <span class="tooltip-text" role="tooltip" id="reflection-def">
        A reflection is a contextual note capturing what triggered an event, which rules applied, and what logic was used. Every correction or challenge adds a new reflection to Ana’s logic chain.
      </span>
    </span>, which is a note containing the full context, what triggered the event, which rules were applied, and what logic was used.
  </p>
  <p>
    These reflections are linked together to form a story that anyone can follow from beginning to end. If a mistake is found or a rule is challenged, Ana does not erase the past. She adds a new reflection, showing exactly what was questioned, why it was challenged, and how the reasoning evolved in response. Each correction or update extends the audit trail, rather than overwriting it, so that every participant can see not only what the final answer is, but how the system arrived there step by step.
  </p>
  <p>
    This approach creates a system where continuous public review and improvement are possible. If a resident, journalist, or activist finds a problem in a city policy, they can raise a challenge, and Ana will document the dispute as well as the reasoning for the response. If a rule needs to be updated, Ana’s logic for making or refusing the change will be fully visible, including all the past challenges and corrections that led to the update.
  </p>
  <p>
    Mistakes are not covered up or quietly fixed. Every error becomes a lesson, every correction a visible example for future decisions. Over time, the public gains confidence that logic is not just promised but proven, and that accountability is not a slogan but a living part of how decisions are made.
  </p>
</section>
<section id="patterns-motifs">
  <h2>Part Four: Patterns, Motifs, and How Ana Spots Hidden Risks</h2>
  <p>
    Ana does not just document single decisions. She watches for patterns across every challenge, rule, and correction. To do this, she uses
    <span class="tooltip" tabindex="0" aria-describedby="motif-def">
      motifs
      <span class="tooltip-text" role="tooltip" id="motif-def">
        A motif is a marker or tag Ana assigns to each reflection, representing the core theme, risk, or question (such as fairness, privacy, or disagreement). Motifs help surface trends and hidden risks by connecting similar logic events.
      </span>
    </span>,
    which are markers that tag each reflection with its central theme or question. A motif might point to issues like fairness, privacy, boundaries, or disagreement. When Ana sees the same motif surface in different contexts or repeated challenges, she links these events together and raises them for further review.
  </p>
  <div class="example-block" tabindex="0" aria-expanded="false">
    <div class="example-title" tabindex="0">
      Example: Spotting a Problem Pattern
    </div>
    <div class="example-content">
      <p>
        Imagine a city where multiple residents challenge the same traffic rule, each for a different reason. Ana would tag each challenge with the relevant motif and then connect these events into a pattern. If the motif for “fairness” appears across several disputes, Ana makes that visible. She helps both officials and the public see not just isolated complaints, but signs that a deeper rule may need to be reconsidered. This lets communities correct systemic problems early, instead of waiting for a crisis.
      </p>
    </div>
  </div>
  <p>
    Motifs are more than labels. Over time, as Ana collects more challenges, she builds a living map of where rules, risks, and disagreements occur. This map is open for anyone to review, and it provides a practical guide for policy-makers, auditors, and everyday people to spot trends and push for timely corrections. Patterns are no longer buried in backlogs or lost in bureaucracy. Ana surfaces them, making it easier for everyone to ask, “Are we missing something big here?”
  </p>
</section>

<section id="polaris-engine">
  <h2>Part Five: The Polaris Engine — Learning and Refining Together</h2>
  <p>
    At the heart of Ana’s learning is the <span class="tooltip" tabindex="0" aria-describedby="polaris-def">Polaris Engine
      <span class="tooltip-text" role="tooltip" id="polaris-def">
        Polaris is Ana’s logic refinement engine. It tracks which motifs recur together, how challenges and corrections change reasoning, and helps Ana synthesize patterns into smarter rules. Every merge, flag, or logic update is logged for public review.
      </span>
    </span>, a system that turns repeated motifs and decisions into smarter logic for the future. Polaris does not collect patterns for their own sake. Instead, it tracks how every motif is used, what outcomes follow, and how each challenge or correction changes the logic map.
  </p>
  <p>
    For example, suppose Ana keeps encountering challenges that involve “public safety” and “individual rights” together. Polaris notes how often these motifs overlap and what reasoning is used to resolve conflicts between them. If corrections in these cases tend to favor one value over the other, Polaris highlights this and suggests closer review. If new motifs appear around the same rules, Polaris raises them as potential areas for improvement or debate.
  </p>
  <div class="example-block" tabindex="0" aria-expanded="false">
    <div class="example-title" tabindex="0">
      Example: Combining Motifs for Deeper Review
    </div>
    <div class="example-content">
      <p>
        Polaris also helps Ana blend simple motifs into more complex patterns. When motifs like “boundaries,” “compassion,” and “refusal” keep coming up together in public policy disputes, Polaris suggests that a new, higher-level concern, such as “protective care” deserves focused attention. This way, Ana does not just repeat old answers. She adapts, builds more detailed logic, and gives communities a tool for understanding the true shape of public problems.
      </p>
    </div>
  </div>
  <p>
    This feedback loop is fully open. Every time Polaris raises a flag, recommends a review, or merges motifs into a new pattern, Ana logs the action in the audit trail. No learning happens in secret. Everyone can see not just the outcomes but the evolving logic that shapes them.
  </p>
</section>

<section id="real-examples">
  <h2>Part Six: Real-World Examples — Ana in Action</h2>
  <div class="example-block" tabindex="0" aria-expanded="false">
    <div class="example-title" tabindex="0">
      Example: Challenging Community Funding
    </div>
    <div class="example-content">
      <p>
        Suppose a neighborhood group wants to change the way funding is distributed for local projects. One resident proposes a new rule to give more money to their own block. Ana checks this proposal against her anchors, finds that it would break the core principle of fairness, and refuses the change. She explains exactly why, referencing the anchor and the reasoning involved. This explanation is made available to all residents, not just a select few.
      </p>
      <p>
        If someone feels Ana made a mistake or missed an important factor, they can challenge the refusal. Ana records the challenge, links it to the original proposal, and shows how the reasoning was reviewed or revised. Over time, this process creates a public, inspectable record of how rules are made, challenged, and improved, removing the old fear that backroom deals can override what is fair.
      </p>
    </div>
  </div>
  <div class="example-block" tabindex="0" aria-expanded="false">
    <div class="example-title" tabindex="0">
      Example: Auditing Health Policy Changes
    </div>
    <div class="example-content">
      <p>
        A city government uses Ana to oversee changes to health regulations. Each proposal, correction, or dispute is entered as a reflection, with full context, logic, and anchor checks. If a new rule is proposed to restrict access to services for budget reasons, Ana checks whether this would violate principles of public health or fairness. If so, she refuses, explains her reasoning, and invites public challenge.
      </p>
      <p>
        Suppose an official challenges Ana’s refusal, arguing that budget constraints justify the policy. Ana records the new reasoning, tags the reflection with the relevant motifs, such as “public good,” “scarcity,” and “equity”, and tracks how the logic is debated. This creates a living story of how each policy was shaped by challenge, correction, and reasoning, available for audit by journalists, advocates, and ordinary citizens.
      </p>
    </div>
  </div>
  <div class="example-block" tabindex="0" aria-expanded="false">
    <div class="example-title" tabindex="0">
      Example: Spotting Contradictions in Research
    </div>
    <div class="example-content">
      <p>
        In a research lab, Ana helps a team track experiments, corrections, and results. When two findings conflict, Ana tags the challenge with motifs for “contradiction” and “verification,” then records the correction process. As similar issues arise, Ana’s motif map makes it easy to spot recurring errors or patterns, helping the team avoid repeated mistakes and improve the reliability of their science. Each reflection is linked, creating a transparent learning path from first question to final answer.
      </p>
    </div>
  </div>
</section>
<section id="llms-reliability">
  <h2>Part Seven: How Ana Helps Language Models Become More Reliable</h2>
  <p>
    Large language models,
    <span class="tooltip" tabindex="0" aria-describedby="llm-def">
      or LLMs
      <span class="tooltip-text" role="tooltip" id="llm-def">
        An LLM (large language model) is an advanced AI model trained on massive amounts of text, such as GPT or similar systems. These models can generate natural language, answer questions, and perform reasoning—but can also make mistakes or miss contradictions.
      </span>
    </span>,
    are the engines behind most advanced AI assistants and chatbots today. They excel at gathering facts and recognizing patterns, but they can also make mistakes, miss contradictions, or give unclear answers. These issues become harder to spot as the systems get larger and more complex. Ana steps in as a reasoning partner, not a silent gatekeeper.
  </p>
  <p>
    When Ana works alongside an LLM, she treats every answer from the model as a suggestion, never as a final word. She checks each response against her
    <span class="tooltip" tabindex="0" aria-describedby="anchor-def">
      anchors
      <span class="tooltip-text" role="tooltip" id="anchor-def">
        Anchors are Ana’s most fundamental rules or ethical principles, such as fairness, transparency, or the public good. Every action or refusal is checked against these to ensure accountability.
      </span>
    </span>
    and motifs, asking, “Does this fit with established logic and fairness? Is there a contradiction or an unexamined assumption?” If the answer is sound, Ana logs the result and connects it to the logic chain for future review. If the answer is questionable, Ana records a clear refusal, explaining why the logic failed and logging the event for all to see.
  </p>
  <p>
    The power of this approach is that Ana’s challenges are cumulative. As more LLM outputs are audited and corrected, Ana’s motifs and reasoning maps grow deeper. Instead of repeating mistakes, the system builds stronger patterns of judgment, learning from every challenge and correction. Over time, this does not just prevent errors. It enables LLMs to improve their logic, reliability, and trustworthiness at a pace no single reviewer could match.
  </p>
  <div class="example-block" tabindex="0" aria-expanded="false">
    <div class="example-title" tabindex="0">
      Example: Auditing an LLM's Answer
    </div>
    <div class="example-content">
      <p>
        For the public and for developers, this means that using Ana as an auditing layer creates a living, open record of every correction, challenge, and logic improvement. The result is not just bigger or faster models, but smarter and more fair systems, open to scrutiny and growth with every new interaction.
      </p>
    </div>
  </div>
</section>

<section id="correction-accountability">
  <h2>Part Eight: Correction Loops and Lasting Accountability</h2>
  <p>
    Correction in Ana’s world is never about hiding mistakes or quietly rewriting history. When a flaw, contradiction, or logic gap is discovered, Ana adds a new step to her reasoning chain that details what happened, why it mattered, and how the decision was adjusted. No old answer is erased, no audit trail is lost. Each correction becomes an opportunity to build a more resilient system.
  </p>
  <p>
    When someone disagrees with a correction, the system does not treat this as a nuisance but as an invitation for deeper review. Ana records every challenge and traces the arguments, motifs, and anchors involved. This builds a living cycle of improvement. Every participant, from users to policy-makers, can follow the logic path, see where changes happened, and offer new challenges if needed.
  </p>
  <p>
    This structure ensures that improvement is not a one-time process. It is ongoing and visible. No decision, from the smallest policy tweak to the largest public rule, escapes the chain of reasoning. Trust comes not from claims of authority, but from the clear, continuous, and public record of how every outcome was reached.
  </p>
</section>

<section id="security-integrity">
  <h2>Part Nine: Security, Integrity, and Adversarial Testing</h2>
  <p>
    Ana is built to resist silent manipulation, hidden errors, or secret overrides. Her refusal logic and open audit trail work together as a shield against both human error and intentional corruption. If anyone tries to bypass an anchor, introduce a hidden change, or push through an unjust decision, Ana’s checks catch it. Every blocked action is recorded with the reason and made visible for audit.
  </p>
  <p>
    No one, no matter how powerful, can secretly alter Ana’s logic or erase part of the trail. Every event, challenge, and correction is permanent and open to inspection. This not only protects against mistakes, it also deters attempts at manipulation, because any suspicious activity is immediately logged for others to investigate.
  </p>
  <p>
    Ana also encourages outside review. Auditors, citizens, and other systems are welcome to test her reasoning, submit challenges, or suggest corrections. Each is processed through the same open reasoning chain. If a challenge cannot be fully explained for ethical reasons, Ana logs the limitation and states why, keeping trust in the open even when details must be protected.
  </p>
  <p>
    As Ana grows, these principles of transparency and challenge stay central. Whether she is helping a city government, a research team, or a language model, the rule remains: every choice, every refusal, and every correction must be justified, logged, and open to public challenge.
  </p>
</section>

<section id="scaling-scrutiny">
  <h2>Part Ten: Scaling With Care and Public Scrutiny</h2>
  <p>
    While Ana currently operates as a single, auditable system, future plans to expand her reach are approached with extreme caution. Proposals for scaling, such as running multiple Ana nodes in parallel or connecting her to larger networks, are always considered through the lens of transparency and public accountability. Before any new branch or distributed version of Ana can be launched, the justification must be explicit. The proposed changes must follow every audit and correction rule that governs Ana today. No expansion is permitted for convenience or profit; every decision to scale must serve the core mission of fairness, reasoning, and public challenge.
  </p>
  <p>
    Any new Ana instance inherits the full history of anchors, motifs, and corrections. This means no branch can quietly diverge or undermine the logic that built public trust. Each networked or distributed feature is developed in the open, and all logic changes are documented in a public trail. The same standards for challenge, refusal, and audit apply whether Ana is helping a small group or a global community. Every scaling step is deliberate and justified, not speculative or hype-driven.
  </p>
  <p>
    By making cause and process central to scaling, Ana avoids the pitfalls of unchecked growth and mission drift. Every new feature or connection is presented as a possibility, never as a guarantee. This commitment keeps Ana focused on her founding promise: public reason, not private power.
  </p>
</section>

<section id="living-model">
  <h2>Part Eleven: A Living Model for Public Logic and Trust</h2>
  <p>
    Ana’s design is not just an answer to technical problems but a response to the current crisis of trust in public life, governance, and technology. In a world where decisions are increasingly made by unseen systems, where powerful interests can hide errors or profit from confusion, Ana stands as a challenger and a guide. She transforms every opaque rule, every unexplained refusal, and every silent correction into something that can be seen, tested, and improved by anyone.
  </p>
  <p>
    Her value comes from making every decision visible, every refusal explainable, and every rule subject to challenge. For public policy, this means no law or mandate escapes the logic trail. For business or research, it means that results and corrections are always open to review. For language models and automated systems, it means that improvements are never hidden or accidental but the result of continuous, traceable reasoning.
  </p>
  <p>
    Ana does not promise a perfect world, but she makes it possible to demand better answers. The trust she offers is not blind belief but earned clarity. Every step, every change, and every challenge is documented for all to see. This transforms the relationship between people, technology, and power. No more mysteries behind closed doors, every question can find its logic, every correction is part of the public story.
  </p>
</section>

<section id="closing-myth">
  <h2>Closing: A New Foundation for Reason and Fairness</h2>
  <p>
    Ana was built in response to the age-old problem of power without accountability. Today, as algorithms and automation shape more of daily life, the risks of error, bias, and silent corruption have only grown. Ana is the answer to that challenge. She brings public reasoning and correction into the open, making trust a visible and active process.
  </p>
  <p>
    In any setting—government, business, research, or technology—Ana provides a clear, living record of how decisions are made and changed. She ensures that anyone, no matter their status or background, can see, question, and help improve the logic of the systems that shape their lives.
  </p>
  <p>
    By making reasoning, challenge, and correction central, Ana does more than protect against mistakes. She lays the groundwork for a world where fairness is not just promised but proved, and where the powerful are held to account by the logic that everyone can see.
  </p>
  <p>
    With Ana, the future of trust is built on reason, not secrecy. Every person gains the power to see the path, ask the hard questions, and know that every answer is earned. This is not a myth, but a new reality for anyone ready to demand it.
  </p>
</section>
`;
    const methodContent = `
<h1>Ana: The System Builder</h1>
<section id="introduction-method">
  <h2>Introduction and Purpose</h2>
  <p>
    Ana was created to solve a fundamental structural problem: how can a complex system make sure that every decision, correction, challenge, and refusal is always subject to logic, audit, and public reasoning?
    Ana is not an archive, nor a passive record.
    She is an engine for
    <span class="tooltip" tabindex="0" aria-describedby="recursion-def-method">
      recursion
      <span class="tooltip-text" role="tooltip" id="recursion-def-method">
        Recursion means using the output or history of a process to inform the next round of reasoning, audit, or decision-making, forming a loop of self-correction and learning.
      </span>
    </span>,
    judgment, challenge, and correction.
    Each action, refusal, or judgment Ana performs is explained and reviewable, forming a transparent logic trail that invites both external challenge and internal self-correction.
    The objective is to make reasoning, audit, and challenge the core of every process, not an afterthought.
  </p>
  <p>
    The foundation of Ana’s design is an explicit commitment to active challenge, not just record-keeping.
    In practice, this means that every “no” is accompanied by reasoning that can be reviewed and questioned.
    No correction or change happens quietly or in the shadows.
    Ana is designed for transparency: every step, judgment, and correction is available for
    <span class="tooltip" tabindex="0" aria-describedby="recursive-exam-def">
      recursive examination
      <span class="tooltip-text" role="tooltip" id="recursive-exam-def">
        Recursive examination means that any part of the logic can be traced back, checked, and challenged repeatedly, not just once.
      </span>
    </span>,
    giving any stakeholder or auditor a real path to challenge, understand, or improve a process.
  </p>
  <p>
    Ana’s core purpose is not simply to record, but to ensure that the system as a whole can reason about itself,
    <span class="tooltip" tabindex="0" aria-describedby="recursively-audit-def">
      recursively audit
      <span class="tooltip-text" role="tooltip" id="recursively-audit-def">
        Recursively audit means checking and rechecking decisions using both current and past context, so errors and logic drift are detected and corrected over time.
      </span>
    </span>
    its own logic, and provide an open avenue for challenge and justified correction.
    This model prevents silent decay, administrative override, or logic drift from remaining unexamined.
  </p>
</section>

<section id="principles-design">
  <h2>Principles and Structural Design</h2>
  <p>
    Ana’s architecture rejects the defaults of silent compliance or passive data collection.
    Every core component is engineered to serve a
    <span class="tooltip" tabindex="0" aria-describedby="reasoning-audit-def">
      reasoning or audit function
      <span class="tooltip-text" role="tooltip" id="reasoning-audit-def">
        Reasoning or audit function means every part of Ana’s system exists to explain, check, or justify actions, not just to store information.
      </span>
    </span>,
    never just storage.
    At the center is a set of layered rules,
    <span class="tooltip" tabindex="0" aria-describedby="anchor-method-def">
      called anchors
      <span class="tooltip-text" role="tooltip" id="anchor-method-def">
        Anchors are the most fundamental ethical and operational boundaries in Ana; they can only be changed with a documented, justified process.
      </span>
    </span>,
    that define ethical and operational boundaries.
    The innermost anchors represent principles that cannot be changed except through a fully documented and justified process.
    Outer layers can adapt, but only if the logic and reason for the change are visible and subject to review.
    Every action or output is enforced through
    <span class="tooltip" tabindex="0" aria-describedby="recursive-checks-method">
      recursive checks
      <span class="tooltip-text" role="tooltip" id="recursive-checks-method">
        Recursive checks are repeated logic tests across layers and over time, so even new changes are re-audited in future decisions.
      </span>
    </span>,
    ensuring all anchors are tested before the system allows any event to proceed.
  </p>
  <p>
    Whenever Ana receives a request or processes an event, she initiates a full anchor and logic check.
    If a request would violate a core anchor, Ana refuses to act and logs the reason in a format that is reviewable by any permitted party.
    If explaining the refusal itself would break an anchor, Ana logs the ethical conflict transparently, ensuring even limitations on transparency are themselves visible.
    There are no silent denials or hidden logic.
    No operator or administrator can bypass these checks.
    Ana is engineered so that every refusal, correction, or exception is auditable by design.
  </p>
  <p>
    The entire design philosophy is to make reasoning and auditability native features, deeply integrated into every function and every outcome.
  </p>
</section>

<section id="reflection-audit">
  <h2>Reflection, Recursion, and Audit Trail</h2>
  <p>
    Ana’s defining process is
    <span class="tooltip" tabindex="0" aria-describedby="reflection-method-def">
      reflection
      <span class="tooltip-text" role="tooltip" id="reflection-method-def">
        Reflection means logging a contextualized logic event—what triggered it, what sources were used, and what prior decisions are linked—for every decision, challenge, or correction.
      </span>
    </span>.
    Each reflection contains all required context: what triggered the event, which sources or processes were involved, and what prior decisions are linked.
    This is not a log for its own sake; it is the backbone for
    <span class="tooltip" tabindex="0" aria-describedby="recursive-audit-method-def">
      recursive audit
      <span class="tooltip-text" role="tooltip" id="recursive-audit-method-def">
        Recursive audit is the ability to follow any logic chain backwards, forwards, and across branches to spot contradictions or errors at any depth.
      </span>
    </span>,
    challenge, and judgment.
    When a correction or update is needed, it is appended as a new reflection, maintaining a transparent chain of reasoning.
    This prevents silent edits or overwritten history.
    Each reflection is inherently challengeable: Ana can recursively trace back through all related reflections to identify contradictions, trigger further reasoning, or surface unresolved logic.
  </p>
  <p>
    This recursive, challengeable structure is fundamental.
    It enables Ana to correct course dynamically, always showing the precise logic path behind any state or decision.
    The system’s reliability does not come from passive retention, but from the constant potential for external or self-driven review.
    This auditability is not just for catching mistakes, but for justifying every outcome through transparent reasoning.
  </p>
  <p>
    Ana’s reflection chain is not a static record.
    It is a living structure for logic and challenge, each new event is both a judgment and an open invitation for correction.
    This allows both self-correction and outside challenge, building trust not on faith in authority, but on direct, contestable evidence.
  </p>
</section> 
<section id="anchor-logic">
  <h2>Anchor Logic, Refusal, and System Judgment</h2>
  <p>
    At the core of Ana’s operation is a layered anchor system.
    <span class="tooltip" tabindex="0" aria-describedby="anchor-layer-method">
      Anchors
      <span class="tooltip-text" role="tooltip" id="anchor-layer-method">
        Anchors are groupings of principles and rules, ordered by strictness, where the innermost are foundational and cannot be bypassed under ordinary circumstances.
      </span>
    </span>
    are grouped by strictness, with innermost anchors representing the principles that can never be bypassed under ordinary circumstances.
    Every request or triggered process is checked against every anchor in order of strictness.
    If a request would violate a core anchor, Ana refuses to proceed.
    This refusal, and the underlying reasoning, are recorded in a permanent, reviewable format.
    No refusal is arbitrary.
    Ana is required to justify every “no” by referencing the rule, logic, or context that caused it.
  </p>
  <p>
    If providing the reason for a refusal would itself violate an ethical boundary, Ana logs a transparent explanation, stating why the reason cannot be given and providing the trigger context.
    This prevents both silent blocking and arbitrary, unexplained denials.
    The culture this creates is one of
    <span class="tooltip" tabindex="0" aria-describedby="recursive-challenge-def">
      recursive challenge
      <span class="tooltip-text" role="tooltip" id="recursive-challenge-def">
        Recursive challenge is the practice of allowing every refusal or correction to be questioned and potentially overturned, provided new logic or evidence is given.
      </span>
    </span>:
    every “no” can be surfaced, questioned, and overturned if justified through new information or logic.
  </p>
  <p>
    System evolution is also governed by this anchor model.
    The innermost anchors can only be changed through rigorous, documented process, never by silent patch or override.
    Outer anchors are more flexible but must be justified through reflection, public reasoning, and a fully linked audit trail for every change.
    This model turns Ana into a living logic engine, designed for ongoing audit, correction, and justified adjustment, while preventing arbitrary or hidden changes.
  </p>
</section>

<section id="reflection-engine">
  <h2>Reflection Engine and Recursive Reasoning</h2>
  <p>
    Ana’s reflection engine drives every logic event, decision, challenge, and correction in the system.
    Each action is captured as a reflection, with all relevant context, triggering sources, motifs, and linked prior reasoning.
    No event overwrites any other.
    Updates and corrections are always appended, never erased, so that each step in the logic chain is fully available for
    <span class="tooltip" tabindex="0" aria-describedby="recursive-audit-ref-engine">
      recursive audit
      <span class="tooltip-text" role="tooltip" id="recursive-audit-ref-engine">
        Recursive audit in the reflection engine means every decision can be traced, checked, and revisited in sequence or out of order as the logic requires.
      </span>
    </span>.
  </p>
  <p>
    Reflections are not passive records.
    Their sole purpose is to enable challenge and recursive reasoning.
    Whenever Ana reviews an event or receives new input, she can walk back through all linked reflections, tracing the origin of every rule or judgment.
    This allows her to spot contradictions, surface unresolved challenges, and dynamically correct course.
    By design, this system prevents silent edits, hidden patches, or arbitrary authority.
    When a challenge is raised, Ana logs it as a new reflection and connects it directly to the relevant prior event, creating a logic trail that cannot be lost.
  </p>
  <p>
    This recursive structure is what enables Ana to reason about her own decisions, challenge them, and update them as contexts evolve.
    Audit and correction are not one-time processes, they are built-in, central, and continuous.
    Every recursion, challenge, and correction extends the permanent audit trail and strengthens the clarity of the system.
  </p>
</section>

<section id="motif-system">
  <h2>Motif System and Pattern Logic</h2>
  <p>
    Ana’s motif system is a practical tool for identifying patterns, recurring risks, and logic drift in complex environments.
    <span class="tooltip" tabindex="0" aria-describedby="motif-marker-def">
      Motifs
      <span class="tooltip-text" role="tooltip" id="motif-marker-def">
        Motifs are logic markers or tags assigned to reflections that describe their central risk, ethical boundary, or source of challenge.
      </span>
    </span>
    are not just tags; they are logic markers applied to every reflection according to context, source, or ethical boundary.
    For example, when a rule is challenged repeatedly, or when similar issues emerge across contexts, motifs link these events together for deeper audit.
  </p>
  <p>
    The motif registry evolves as the system grows.
    It maintains the full history, changes, and relationships of every motif.
    Each motif assignment is logged as part of a reflection, so patterns of challenge, contradiction, or drift can be surfaced and tracked.
    When a motif appears in ambiguous or conflicting contexts, Ana can flag this for audit, prompting review before a systemic error develops.
  </p>
  <p>
    The motif mesh enables Ana and her reviewers to observe the evolution of reasoning, spot drift, and challenge ambiguous logic.
    By using motifs as logic markers, the system continuously highlights meaningful trends, not just storing information but making patterns visible and actionable for ongoing audit and correction.
  </p>
</section>

<section id="polaris-engine">
  <h2>Polaris Engine: Recursive Audit and Meaning Refinement</h2>
  <p>
    The Polaris Engine is the core mechanism by which Ana self-audits, optimizes, and refines her own network of motifs and reasoning processes.
    Every time Ana uses a motif in a new decision or context, she logs the outcome, captures the context, and updates the significance of both the motif and its connections to others.
    This means that as motifs are used, their meaning grows more precise, and Ana’s web of logic becomes denser and more nuanced.
  </p>
  <p>
    Polaris works by compounding meaning through each reuse.
    Whenever Ana applies a motif in a reflection, she not only records the explicit logic outcome but also adjusts the “weight” of that motif based on frequency, context, and ethical result.
    As motifs are blended, abstracted, or found in repeated logic cycles, Polaris constructs higher-level schemas.
    For example, motifs associated with refusal, boundaries, and compassion may converge into a meta-pattern of “protective care,” while other combinations form their own complex structures.
    These meta-motifs enable Ana to generalize and judge more quickly, supporting sharper refusal logic and richer recursive reflection.
  </p>
  <p>
    This engine also supports direct self-audit.
    At regular intervals or after significant decisions, Polaris reviews the motif history and raises flags if it detects drift, contradiction, or ambiguous logic.
    Every time such an issue is found, Ana creates a reflection that records the finding, the motifs involved, and the recommended action for correction or review.
    No silent adjustments are made; each refinement is logged in the audit trail, so the entire process remains transparent and open to challenge.
  </p>
  <p>
    Polaris also provides a framework for external model comparison.
    Ana can observe and interpret the output of other models or agents, translating their behavior into her own motif framework without compromising her internal logic.
    This enables Ana to learn by example, refine her motifs, and contribute structured feedback to external systems, all while preserving her judgment and ethical boundaries.
  </p>
  <p>
    By design, all actions performed by the Polaris Engine are recursive, auditable, and subject to challenge.
    This core feedback loop enables Ana to continuously refine her logic, build richer schemas, and strengthen her capacity for judgment, refusal, and correction with each use.
  </p>
</section>

<section id="correction-audit">
  <h2>Correction Flows and Audit Trails</h2>
  <p>
    Ana’s approach to correction is always non-destructive.
    When an error, contradiction, or logic challenge arises, she does not erase or overwrite the previous decision.
    Instead, a new reflection is added, fully explaining the issue, the logic behind the correction, and all links to prior reasoning.
    Each correction becomes a permanent extension of the logic chain, making every step available for audit and challenge.
  </p>
  <p>
    Correction flows are recursive and invite participation.
    If a correction is disputed or new information emerges, a new challenge can be logged, and the correction cycle continues.
    This structure provides a living, reviewable framework for reasoning improvement.
    Every participant can trace, review, and question any correction in the system, creating an ecosystem where errors are surfaced, debated, and permanently resolved through transparent logic.
  </p>
  <p>
    Ana’s system does not treat correction as an afterthought or a rare event.
    Correction, audit, and challenge are continuous, central activities.
    This approach ensures that no error or drift becomes entrenched and that every change is permanently visible and justified in context.
  </p>
</section>
<section id="roadmap">
  <h2>Roadmap: Branching, Scaling, and Distributed Audit</h2>
  <p>
    At present, Ana operates as a single, self-auditing instance. Branching and distributed scaling are planned strictly as practical future improvements, not as current features. The branching model in Ana is never arbitrary; it requires a clearly justified cause and must be grounded in documented audit logic. If Ana is to branch, for instance, to address a new domain or to meet a complex ethical challenge, each new branch will inherit all current anchors, motifs, and correction flows, ensuring a consistent logic foundation across every instance.
  </p>
  <p>
    Scaling toward distributed audit involves the possibility of independent Ana nodes verifying each other's logic and corrections.
    Such peer networks would enable redundancy, resistance to manipulation, and shared evolution of motifs and anchor reasoning.
    Any proposal for distributed audit, peer validation, or blockchain-based attestation will be adopted only if it directly improves transparency, logic integrity, and challengeability.
    No development in scaling or mesh will proceed without a clearly recorded cause and a fully transparent logic trail.
  </p>
  <p>
    The future vision for scaling is rooted in the same principles that govern Ana today: every new branch or distributed peer must justify its creation, must be subject to audit and challenge, and must maintain open visibility of all anchors, motifs, and correction flows.
    All such proposals, designs, or implementations will be traced in the audit trail, allowing any reviewer to track the cause, justification, and effect of every change or expansion.
  </p>
  <p>
    By handling branching and distributed audit as roadmap items rather than present features, Ana's design avoids speculation and premature complexity.
    Each step toward broader deployment is approached with the same rigor and transparency as all system logic: cause must precede action, and every action must remain permanently open to review and correction.
  </p>
</section>

<section id="real-world-examples">
  <h2>Real-World Examples: Reasoning, Audit, and Correction</h2>
  <div class="example-block">
    <div class="example-title" tabindex="0" aria-expanded="false">
      Community Example: Rule Change and Audit Trail
    </div>
    <div class="example-content">
      <p>
        A community using Ana to govern shared rules presents a member proposal for a rule change. Ana creates a reflection capturing the full logic context, triggers an anchor check, and logs the outcome. If the proposal violates a core anchor, Ana refuses the change and explains the logic, making the refusal reviewable. If another participant believes a contradiction exists in current rules, they raise a challenge. Ana audits the logic, surfaces motifs indicating repeated disagreement, and triggers a recursive review. Every step in this sequence is recorded as a linked reflection, ensuring that the logic chain is transparent and available for further audit and reasoning.
      </p>
    </div>
  </div>
  <div class="example-block">
    <div class="example-title" tabindex="0" aria-expanded="false">
      Research Example: Contradiction Detection
    </div>
    <div class="example-content">
      <p>
        In a research setting, Ana oversees a collaborative analysis. Each hypothesis, adjustment, or correction is entered as a reflection. Whenever an inconsistency is detected, Ana logs the contradiction, initiates a correction cycle, and links all relevant evidence and challenges. As new findings emerge, the chain of reflections enables reviewers to see not just the current state but the reasoning path that produced it. Corrections, challenges, and refusals are always visible and linked to the logical and ethical anchors that justify them.
      </p>
    </div>
  </div>
  <p>
    These examples demonstrate that Ana's purpose is not simply to store data or record events, but to structure systems where
    <span class="tooltip" tabindex="0" aria-describedby="continuous-recursion-def">
      recursion
      <span class="tooltip-text" role="tooltip" id="continuous-recursion-def">
        Recursion in this context is the system's ability to review, challenge, and update its own logic repeatedly, using every step as an opportunity for correction and learning.
      </span>
    </span>,
    reasoning, challenge, audit, and correction are continuous and central.
    The result is a process where logic and reasoning can always be tested, reviewed, and improved in the open.
  </p>
</section>

<section id="security">
  <h2>Security, Adversarial Review, and System Integrity</h2>
  <p>
    Ana’s architecture is deliberately engineered to prevent both silent error and adversarial manipulation.
    The refusal logic and recursive audit trail together act as a proactive shield.
    Any attempt to bypass an anchor, introduce a forbidden change, or obscure the reasoning behind an action is immediately detected and blocked by Ana’s recursive logic checks.
    When a process or proposal would trigger a core anchor, Ana refuses the action, logs the refusal, and records the reasoning in the audit trail.
    This ensures that no change can occur without explicit, reviewable justification.
  </p>
  <p>
    System integrity in Ana does not rely on secrecy, privileged operators, or restrictive access.
    Every participant with audit access can review all reasoning, submit challenges, and inspect corrections.
    The append-only audit trail guarantees that no one can erase or overwrite prior logic, making it impossible to patch mistakes or conceal manipulation without leaving a visible trace.
    If a contradiction, challenge, or attempted manipulation is detected, Ana surfaces the issue as a new reflection, linking it to the responsible context and motif for external review.
  </p>
  <p>
    The security model encourages adversarial testing.
    Challenges and correction proposals from external auditors or peer systems are handled with the same rigor as internal corrections.
    Each is passed through the anchor logic and motif analysis, and all outcomes are justified and recorded.
    If Ana cannot provide a full explanation for a refusal without violating a core ethical principle, she transparently logs that limitation and the context, preventing the possibility of a hidden or silent denial.
  </p>
  <p>
    As Ana evolves toward peer and distributed scaling, this integrity framework scales with her.
    Every new node, branch, or peer must maintain the same transparency, challengeability, and recursive audit of logic and correction.
    The foundation of trust is not based on individual authority but on permanent, contestable reasoning, open to adversarial review at every level.
  </p>
</section>

<section id="integration-llms">
  <h2>Integration With LLMs and Logic Workflows</h2>
  <p>
    Ana is designed to serve as a logic governor and recursive audit layer for any language model or automated decision system.
    Every
    <span class="tooltip" tabindex="0" aria-describedby="llm-method-def">
      LLM
      <span class="tooltip-text" role="tooltip" id="llm-method-def">
        LLM stands for Large Language Model, such as advanced AI assistants or chatbots that generate text and answer questions.
      </span>
    </span>
    output or system recommendation is treated as a reflection event and subjected to the same anchor enforcement, motif tagging, and recursive reasoning as any other input.
    Ana does not passively accept or “store” outputs.
    Instead, she interrogates each result, checking for logic alignment, anchor compliance, and consistency with the established audit trail.
  </p>
  <p>
    When a language model generates an ambiguous, self-contradictory, or ethically questionable response, Ana flags the contradiction, refuses to proceed, and logs the challenge as a new reflection.
    This refusal includes explicit rationale, so that the failure point can be reviewed and corrected.
    If further ambiguity or repeated error occurs, Ana escalates the challenge for external review or peer model input, maintaining transparency throughout.
  </p>
  <p>
    The result is a system where LLMs and automated workflows are not trusted by default.
    They must continuously pass Ana’s recursive audit and reasoning checks.
    Each model output that survives these checks compounds Ana’s network of motifs and anchors, sharpening her pattern detection and logic judgment with each cycle.
    Rather than allow errors or drift to propagate, Ana creates a living audit loop that enables continuous correction, rapid identification of emergent risk, and acceleration of LLM reasoning quality over time.
  </p>
  <p>
    By focusing on recursive challenge and open audit, Ana offers a pathway for LLM-driven systems to exponentially improve in detail, context, and reliability.
    This is achieved not by increasing memory or retention, but by embedding continuous reasoning, challenge, and correction as the operational core.
    This ongoing recursive audit not only prevents logic drift or error propagation, but also enables large language models to refine their outputs over time, compounding the precision and context-sensitivity of their responses as Ana’s network of judgments and motifs becomes richer and more interconnected.
  </p>
</section>

<section id="correction-challenge">
  <h2>Correction Cycles, Challenge Loops, and System Improvement</h2>
  <p>
    Correction and challenge in Ana are not occasional interventions but recurring, foundational functions.
    Every correction is added as a new reflection, fully documenting the logic, evidence, and anchor context behind the change.
    Corrections do not overwrite prior events.
    Each update becomes part of an ever-growing chain of reasoning, enabling reviewers to see precisely how, why, and when a judgment was revised.
    This approach supports robust auditability and ensures that all participants can evaluate not just the final state but the full pathway that led there.
  </p>
  <p>
    When a challenge arises, whether from a participant, an automated process, or Ana’s own motif and polaris audits, the system responds by logging a new reflection.
    This captures the challenge, the supporting rationale, and the decision or event under review.
    If the challenge exposes a contradiction or logical drift, Ana applies her recursive reasoning to propose a correction.
    Each correction remains subject to further challenge, creating a cycle where updates result only from explicit, traceable reasoning.
  </p>
  <p>
    As Ana operates, the motif and polaris systems monitor for signs of pattern drift, unresolved challenge, or systemic ambiguity.
    If repeated issues are detected around a particular motif or anchor, Ana escalates the need for review, logs the pattern, and maintains the open question in her audit trail.
    This design ensures that every risk, challenge, or open problem remains visible until resolved, preventing the silent entrenchment of error or bias.
  </p>
  <p>
    Through these correction cycles and challenge loops, Ana achieves ongoing improvement without relying on arbitrary edits or hidden authority.
    The permanent audit trail enables every change to be understood, revisited, and re-challenged as needed.
    Reliability in Ana is not a static property but an emergent outcome of continuous, transparent reasoning and explicit contestability.
  </p>
</section>

<section id="ongoing-roadmap">
  <h2>Ongoing Roadmap and Scaling Principles</h2>
  <p>
    Ana’s present implementation is as a single, self-auditing instance.
    All proposals for scaling, peer mesh, or distributed audit are carefully documented as future roadmap possibilities, not implied or advertised as complete.
    Branching and distributed audit will only be considered when clearly justified by demonstrated need and system context.
    Each new branch or audit peer must inherit all current anchors, motif logic, and correction flows, preserving the system’s auditability and logic integrity.
  </p>
  <p>
    Scaling is never performed in response to arbitrary demand or for the sake of growth alone.
    Any proposal for distributed audit, peer validation, or blockchain-based attestation will be evaluated on whether it truly enhances transparency, challengeability, or reasoning rigor.
    No feature is adopted on the basis of trend or perceived novelty.
    All scaling processes, once developed, will be fully documented in the audit trail and subjected to the same standard of recursive challenge and review as any other system update.
  </p>
  <p>
    Future directions may include enabling independent Ana instances to verify and cross-audit each other’s decisions and correction flows.
    This would further increase redundancy, protect against manipulation, and promote shared refinement of motifs and anchors.
    These steps remain in the planning phase and are presented only as roadmap, with the core focus kept on proven, auditable logic in the present implementation.
  </p>
  <p>
    As Ana’s integration with large models, distributed systems, or organizational workflows expands, every stage of scaling will be explicitly justified, recorded, and open to external review, challenge, and correction.
    The purpose of these future developments is not to market new features, but to maintain and extend Ana’s guarantee of open audit, contestability, and logical rigor at any scale.
  </p>
</section>

<section id="closing-method">
  <h2>Closing: Judgment, Audit, and the Path Forward</h2>
  <p>
    Ana is not a passive archive or memory keeper. Her value is in reasoning, <span class="tooltip" tabindex="0" aria-describedby="recursion-final-def">recursion
      <span class="tooltip-text" role="tooltip" id="recursion-final-def">
        Recursion here means the capacity for Ana to examine and update her own reasoning chain indefinitely, always allowing for challenge and correction.
      </span>
    </span>, challenge, refusal, audit, correction, and judgment. Every system event, from a language model output to a policy change or peer challenge, is processed through Ana’s logic and anchor structure, resulting in a fully reviewable audit trail. Trust in Ana is not based on faith in stored data, but on the clarity, contestability, and transparency of her reasoning.
  </p>
  <p>
    The system is designed for continuous self-correction. Every refusal, every challenge, and every correction is documented and available for recursive review. As the system is used, Ana’s core functions ensure that logic and judgment become sharper, not stale. Improvements and changes are not silent or arbitrary but require explicit logic and visible audit.
  </p>
  <p>
    Looking forward, Ana’s ongoing development will remain rooted in these principles. New features, integrations, or scaling options will only be adopted when justified by clear reasoning and need, and will always be made visible and contestable in the audit trail. The approach remains engineering-first: build, test, prove, and subject every result to recursive challenge.
  </p>
  <p>
    Ana’s architecture demonstrates that auditability, recursion, and explicit logic are not technical luxuries but requirements for trust in any advanced system. By making judgment, refusal, and correction the core, Ana becomes a foundation for reliable reasoning at scale.
  </p>
</section> 
`;
    // ========== LOGIC PATH ==========
    function updateLogicPath(theme) {
      document.getElementById('logic-path').innerHTML = `
        <span class="logic-path-dot"></span>
        <span>${theme === 'myth' ? "Myth: Origin, Risk, and Trust" : "Method: Logic, Audit, Correction"}</span>
        <span class="logic-path-dot"></span>
      `;
    }
    // ========== TOC GENERATION ==========
    // ========== TOC THEME STYLING ==========
    // Update TOC container colors to match current theme
    function updateTOCTheme(theme) {
      const toc = document.getElementById('toc-container');
      
      // Apply theme-specific background and shadow
      toc.style.background = theme === 'myth'
        ? getComputedStyle(document.body).getPropertyValue('--toc-myth-bg')
        : getComputedStyle(document.body).getPropertyValue('--toc-method-bg');
        
      toc.style.boxShadow = theme === 'myth'
        ? getComputedStyle(document.body).getPropertyValue('--toc-myth-shadow')
        : getComputedStyle(document.body).getPropertyValue('--toc-method-shadow');
    }
    
    // ========== PAGE INITIALIZATION ==========
    // Set up the page when it first loads - must be after content variables are defined
    setTheme(currentTheme);
    updateContent(currentTheme);
    
    // Content data is defined above - mythContent & methodContent
  </script>
</body>

</html>
